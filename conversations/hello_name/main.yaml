# Conversation example for simple hello and ask a name

settings:
    system_name: "[blue]ROBOT[/blue]"
    system_name_html: "<span style='color:blue'>ROBOT</span>"
    user_name: "[aquamarine1]IVAN[/aquamarine1]"
    user_name_html: "<span style='color:blue'>IVAN</span>"

conversations:
    - 'hello.yaml'

slots:
    - name

dbs:
    main: import_csv data.csv

url_apis:
  demo: "http://127.0.0.1:5431/"

strategies:
    name:
        - say "¿cúal es tu nombre?"
        - input name
        - remember name
        - say "mucho gusto en conocerte"
    excelent:
        - say "me da mucho gusto que estés bien"
    sorry:
        - say "siento que no te encuentre bien"
    something_else:
        - say "creo que me dijiste algo que no entiendo bien"

script:
    - solve hello
    - say greeting
    - loop_slots
    - say "¿como estás hoy {}?".format(name)
    - input status | asign bien:good mal:bad
    - if status == "good" then solve excelent
    - if status == "bad" then solve sorry
    - if not status == "good" or not status == "bad" then solve something_else
    - post demo echo "msg":"esto es un mensaje que fue a una api" echo_response
    - say echo_response['msg']
    - get demo msg echo_response
    - say echo_response['msg']
    - say "Hay algunas cosas que se"
    - say "hecho {} {}".format(*db['main'][0])
    - say "adios {}".format(name)
