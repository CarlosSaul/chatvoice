# Conversation example for sentiment detection

settings:
    system_name: "[blue]ROBOT[/blue]"
    system_name_html: "<span style='color:blue'>ROBOT</span>"
    user_name: "[aquamarine1]IVAN[/aquamarine1]"
    user_name_html: "<span style='color:blue'>IVAN</span>"

slots:
    - name

url_apis:
  sentiment: "http://127.0.0.1:8000/sentiment"

strategies:
    name:
        - say "¿cúal es tu nombre?"
        - input name
        - remember name
        - say "mucho gusto en conocerte {name}".format(name)
    question:
      - say "¿me puedes decir algo que refleje como te sientes {}?".format(name)
      - input feeling
      - post sentiment /classify 'text':feeling response
      - say "Creo que te sientes"
      - if response['result']['label']=='NEG' then say "algo negativo"
      - if response['result']['label']=='POS' then say "un poco positivo"
      - if response['result']['label']=='NEU' then say "creo que estás neutral"

script:
    - loop_slots
    - while feeling != 'bye' then solve question
    - say "okay bye"
